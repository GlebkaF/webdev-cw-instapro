(()=>{"use strict";var n={772:(n,e,t)=>{t.d(e,{Z:()=>p});var r=t(81),a=t.n(r),i=t(645),o=t.n(i),u=t(673),s=t(667),l=t.n(s),c=new URL(t(549),t.b),d=o()(a());d.i(u.Z);var f=l()(c);d.push([n.id,`.page-container {\n  padding: 0 20px;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #e0e0e0;\n  padding: 20px 16px;\n  margin-left: -20px;\n  margin-right: -20px;\n}\n\n.logo {\n  margin: 0;\n  font-size: 28px;\n  cursor: pointer;\n  width: 130px;\n}\n\n.header-container {\n  margin-bottom: 8px;\n}\n\n.header-button {\n  padding: 0;\n  border: none;\n  background-color: transparent;\n  font-size: 14px;\n  line-height: 18px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n.logout-button {\n  width: 130px;\n  text-align: right;\n}\n\n.posts {\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.post-header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 10px;\n  cursor: pointer;\n}\n\n.post-header__user-image {\n  width: 40px;\n  height: 40px;\n  object-fit: cover;\n  border-radius: 40px;\n  margin-right: 10px;\n}\n\n.post-image-container {\n  margin-left: -20px;\n  margin-right: -20px;\n  height: 500px;\n  display: flex;\n  justify-content: center;\n  background-color: #e0e0e0;\n}\n\n.post-image {\n  width: 100%;\n  height: 100%;\n  max-width: 500px;\n  object-fit: cover;\n}\n\n.post-likes {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.like-button {\n  border: none;\n  background-color: transparent;\n  padding: 8px;\n  padding-left: 0px;\n  padding-bottom: 5px;\n  cursor: pointer;\n}\n\n.user-name {\n  font-weight: 500;\n}\n\n.post-text {\n  font-size: 14px;\n  line-height: 18px;\n  margin-top: 5px;\n}\n\n.post-date {\n  color: #8a8a8a;\n}\n\n.post+.post {\n  margin-top: 20px;\n}\n\n.posts-user-header {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.posts-user-header__user-image {\n  width: 70px;\n  height: 70px;\n  object-fit: cover;\n  border-radius: 40px;\n  margin-right: 10px;\n}\n\n.posts-user-header__user-name {\n  font-size: 28px;\n  line-height: 35px;\n}\n\n.loading-page {\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n}\n\n.add-post-sign {\n  background-image: url(${f});\n  height: 30px;\n  width: 30px;\n}\n\n.form {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.form-title {\n  font-size: 28px;\n  line-height: 35px;\n  text-align: center;\n}\n\n.form-inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.form-error {\n  color: red;\n}\n\n.form-footer {\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.form-footer-title {\n  text-align: center;\n}\n\n.file-upload-image-conrainer {\n  display: flex;\n  align-items: center;\n}\n\n.file-upload-image {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n  margin-right: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n}\n\n.file-upload-label {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 100%;\n  text-align: center;\n}`,""]);const p=d},673:(n,e,t)=>{t.d(e,{Z:()=>m});var r=t(81),a=t.n(r),i=t(645),o=t.n(i),u=t(667),s=t.n(u),l=new URL(t(137),t.b),c=new URL(t(374),t.b),d=o()(a()),f=s()(l),p=s()(c);d.push([n.id,`@font-face {\n  font-family: "StratosSkyeng";\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(${f}) format("woff2");\n}\n\n@font-face {\n  font-family: "StratosSkyeng";\n  font-style: normal;\n  font-weight: 500;\n  font-display: swap;\n  src: url(${p}) format("woff2");\n}\n\nhtml {\n  /* скрывает скролбары в firefox */\n  scrollbar-width: none;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: StratosSkyeng;\n  overflow: auto;\n  font-size: 14px;\n  line-height: 18px;\n}\n\n/* скрывает скролбары в chrome */\nbody::-webkit-scrollbar {\n  display: none;\n}\n\np {\n  margin: 0;\n}\n\n.button,\n.secondary-button {\n  display: block;\n  padding: 10px 13px 13px;\n  font-size: 18px;\n  line-height: 22px;\n  border-radius: 5px;\n  background-color: #565eef;\n  color: #ffffff;\n  border: none;\n}\n\n.link-button {\n  display: inline;\n  border: 0;\n  padding: 0;\n  background: none;\n  color: #565eef;\n  cursor: pointer;\n}\n\n.button:hover {\n  background-color: #6d73ff;\n}\n\n.button[disabled="true"],\n.secondary-button[disabled="true"] {\n  background-color: #f4f5f6;\n  color: rgba(153, 153, 153, 0.6);\n  pointer-events: none;\n}\n\n.button:active {\n  background-color: #4f56ce;\n}\n\n.secondary-button {\n  background-color: #edecff;\n  color: #565eef;\n}\n\n.secondary-button:hover {\n  background-color: #f2eeff;\n}\n\n.secondary-button:active {\n  background-color: #d8d7ff;\n}\n\n.input {\n  height: 36px;\n  box-sizing: border-box;\n  padding: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  color: rgb(4, 18, 27);\n  border: none;\n  border-radius: 5px;\n  background-color: #e8e8e8;\n}\n\n.input .-error {\n  background-color: #fff;\n}\n\n.input:focus {\n  background-color: #fff;\n}\n\n.textarea {\n  padding: 15px;\n  resize: none;\n  width: 100%;\n  height: 100px;\n}\n\nstrong {\n  font-weight: 500;\n}\n\n/** Анимация загрузки **/\n.loader {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n\n.loader div {\n  display: inline-block;\n  position: absolute;\n  left: 8px;\n  width: 16px;\n  background: #000;\n  animation: loader 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;\n}\n\n.loader div:nth-child(1) {\n  left: 8px;\n  animation-delay: -0.24s;\n}\n\n.loader div:nth-child(2) {\n  left: 32px;\n  animation-delay: -0.12s;\n}\n\n.loader div:nth-child(3) {\n  left: 56px;\n  animation-delay: 0;\n}\n\n@keyframes loader {\n  0% {\n    top: 8px;\n    height: 64px;\n  }\n\n  50%,\n  100% {\n    top: 24px;\n    height: 32px;\n  }\n}`,""]);const m=d},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,i){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var u=0;u<this.length;u++){var s=this[u][0];null!=s&&(o[s]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);r&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},o=[],u=0;u<n.length;u++){var s=n[u],l=r.base?s[0]+r.base:s[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var f=t(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var m=a(p,r);r.byIndex=u,e.splice(u,0,{identifier:d,updater:m,references:1})}o.push(d)}return o}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var i=r(n=n||[],a=a||{});return function(n){n=n||[];for(var o=0;o<i.length;o++){var u=t(i[o]);e[u].references--}for(var s=r(n,a),l=0;l<i.length;l++){var c=t(i[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=s}}},569:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},549:n=>{n.exports="data:image/svg+xml,%3Csvg id=%27Layer_1%27 data-name=%27Layer 1%27 xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 122.88 122.88%27%3E%3Ctitle%3Eadd%3C/title%3E%3Cpath d=%27M61.44,0A61.46,61.46,0,1,1,18,18,61.25,61.25,0,0,1,61.44,0ZM88.6,56.82v9.24a4,4,0,0,1-4,4H70V84.62a4,4,0,0,1-4,4H56.82a4,4,0,0,1-4-4V70H38.26a4,4,0,0,1-4-4V56.82a4,4,0,0,1,4-4H52.84V38.26a4,4,0,0,1,4-4h9.24a4,4,0,0,1,4,4V52.84H84.62a4,4,0,0,1,4,4Zm8.83-31.37a50.92,50.92,0,1,0,14.9,36,50.78,50.78,0,0,0-14.9-36Z%27/%3E%3C/svg%3E"},374:(n,e,t)=>{n.exports=t.p+"stratosskyengweb-medium.woff2"},137:(n,e,t)=>{n.exports=t.p+"stratosskyengweb-regular.woff2"}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return n[r](i,i.exports,t),i.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.p="/",t.b=document.baseURI||self.location.href,t.nc=void 0;var r={};(()=>{t.d(r,{Ig:()=>wn,kS:()=>yn,EA:()=>gn});var n=t(379),e=t.n(n),a=t(795),i=t.n(a),o=t(569),u=t.n(o),s=t(565),l=t.n(s),c=t(216),d=t.n(c),f=t(589),p=t.n(f),m=t(772),g={};g.styleTagTransform=p(),g.setAttributes=l(),g.insert=u().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=d(),e()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals,t.p,t.p,t.p;var h="https://webdev-hw-api.vercel.app",v="".concat(h,"/api/v1/").concat("prod888888","/instapro");function b(n){var e=n.token,t=n.id;return console.log(),fetch("".concat(v,"/").concat(t,"/like"),{method:"POST",headers:{Authorization:e}}).then((function(n){if(401===n.status)throw new Error("Нет авторизации");return n.json()}))}function y(n){var e=n.token,t=n.id;return console.log(),fetch("".concat(v,"/").concat(t,"/dislike"),{method:"POST",headers:{Authorization:e}}).then((function(n){if(401===n.status)throw new Error("Нет авторизации");return n.json()}))}var w="posts",x="user-posts",k="auth",M="add-post",S="loading";function E(n){var e,t=n.element;return t.innerHTML='\n  <div class="page-header">\n      <h1 class="logo">instapro</h1>\n      <button class="header-button add-or-login-button">\n      '.concat(gn?'<div title="Добавить пост" class="add-post-sign"></div>':"Войти","\n      </button>\n      ").concat(gn?'<button title="'.concat(gn.name,'" class="header-button logout-button">Выйти</button>'):"","  \n  </div>\n  \n"),t.querySelector(".add-or-login-button").addEventListener("click",(function(){wn(gn?M:k)})),t.querySelector(".logo").addEventListener("click",(function(){wn(w)})),null===(e=t.querySelector(".logout-button"))||void 0===e||e.addEventListener("click",yn),t}function P(n){var e=n.element,t=n.onImageUrlChange,r="";!function n(){var a;e.innerHTML='\n  <div class="upload=image">\n      '.concat(r?'\n          <div class="file-upload-image-conrainer">\n            <img class="file-upload-image" src="'.concat(r,'">\n            <button class="file-upload-remove-button button">Заменить фото</button>\n          </div>\n          '):'\n            <label class="file-upload-label secondary-button">\n                <input\n                  type="file"\n                  class="file-upload-input"\n                  style="display:none"\n                />\n                Выберите фото\n            </label>\n          \n      ',"\n  </div>\n");var i=e.querySelector(".file-upload-input");null==i||i.addEventListener("change",(function(){var e=i.files[0];if(e){var a=document.querySelector(".file-upload-label");a.setAttribute("disabled",!0),a.textContent="Загружаю файл...",function(n){var e=n.file,t=new FormData;return t.append("file",e),fetch(h+"/api/upload/image",{method:"POST",body:t}).then((function(n){return n.json()}))}({file:e}).then((function(e){var a=e.fileUrl;t(r=a),n()}))}})),null===(a=e.querySelector(".file-upload-remove-button"))||void 0===a||a.addEventListener("click",(function(){t(r=""),n()}))}()}function T(n){return n.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;")}var W={};function G(){return W}function N(n){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N(n)}function D(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function A(n){D(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"===N(n)&&"[object Date]"===e?new Date(n.getTime()):"number"==typeof n||"[object Number]"===e?new Date(n):("string"!=typeof n&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function C(n,e){D(2,arguments);var t=A(n),r=A(e),a=t.getTime()-r.getTime();return a<0?-1:a>0?1:a}function j(n,e){D(2,arguments);var t,r=A(n),a=A(e),i=C(r,a),o=Math.abs(function(n,e){D(2,arguments);var t=A(n),r=A(e);return 12*(t.getFullYear()-r.getFullYear())+(t.getMonth()-r.getMonth())}(r,a));if(o<1)t=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);var u=C(r,a)===-i;(function(n){D(1,arguments);var e=A(n);return function(n){D(1,arguments);var e=A(n);return e.setHours(23,59,59,999),e}(e).getTime()===function(n){D(1,arguments);var e=A(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}(e).getTime()})(A(n))&&1===o&&1===C(n,a)&&(u=!1),t=i*(o-Number(u))}return 0===t?0:t}var I={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},L="trunc";var U={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function q(n){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var O={date:q({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:q({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:q({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function H(n){return function(e,t){var r;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&n.formattingValues){var a=n.defaultFormattingWidth||n.defaultWidth,i=null!=t&&t.width?String(t.width):a;r=n.formattingValues[i]||n.formattingValues[a]}else{var o=n.defaultWidth,u=null!=t&&t.width?String(t.width):n.defaultWidth;r=n.values[u]||n.values[o]}return r[n.argumentCallback?n.argumentCallback(e):e]}}function X(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],i=e.match(a);if(!i)return null;var o,u=i[0],s=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(s)?function(n,e){for(var t=0;t<n.length;t++)if(n[t].test(u))return t}(s):function(n,e){for(var t in n)if(n.hasOwnProperty(t)&&n[t].test(u))return t}(s);return o=n.valueCallback?n.valueCallback(l):l,{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(u.length)}}}function F(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(n.matchPattern);if(!r)return null;var a=r[0],i=e.match(n.parsePattern);if(!i)return null;var o=n.valueCallback?n.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(a.length)}}}const _={code:"en-US",formatDistance:function(n,e,t){var r,a=U[n];return r="string"==typeof a?a:1===e?a.one:a.other.replace("{{count}}",e.toString()),null!=t&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r},formatLong:O,formatRelative:function(n,e,t,r){return z[n]},localize:{ordinalNumber:function(n,e){var t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:H({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:H({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:H({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:H({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:H({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:F({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:X({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:X({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:X({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:X({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y(n,e){if(null==n)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}function B(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}var J=1440,R=2520,V=43200,Z=86400;function $(n,e,t){var r,a;D(2,arguments);var i=G(),o=null!==(r=null!==(a=null==t?void 0:t.locale)&&void 0!==a?a:i.locale)&&void 0!==r?r:_;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=C(n,e);if(isNaN(u))throw new RangeError("Invalid time value");var s,l,c=Y(Y({},t),{addSuffix:Boolean(null==t?void 0:t.addSuffix),comparison:u});u>0?(s=A(e),l=A(n)):(s=A(n),l=A(e));var d,f=function(n,e,t){D(2,arguments);var r,a=function(n,e){return D(2,arguments),A(n).getTime()-A(e).getTime()}(n,e)/1e3;return((r=null==t?void 0:t.roundingMethod)?I[r]:I[L])(a)}(l,s),p=(B(l)-B(s))/1e3,m=Math.round((f-p)/60);if(m<2)return null!=t&&t.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,c):f<10?o.formatDistance("lessThanXSeconds",10,c):f<20?o.formatDistance("lessThanXSeconds",20,c):f<40?o.formatDistance("halfAMinute",0,c):f<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):0===m?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",m,c);if(m<45)return o.formatDistance("xMinutes",m,c);if(m<90)return o.formatDistance("aboutXHours",1,c);if(m<J){var g=Math.round(m/60);return o.formatDistance("aboutXHours",g,c)}if(m<R)return o.formatDistance("xDays",1,c);if(m<V){var h=Math.round(m/J);return o.formatDistance("xDays",h,c)}if(m<Z)return d=Math.round(m/V),o.formatDistance("aboutXMonths",d,c);if((d=j(l,s))<12){var v=Math.round(m/V);return o.formatDistance("xMonths",v,c)}var b=d%12,y=Math.floor(d/12);return b<3?o.formatDistance("aboutXYears",y,c):b<9?o.formatDistance("overXYears",y,c):o.formatDistance("almostXYears",y+1,c)}function Q(n,e){return D(1,arguments),$(n,Date.now(),e)}function K(n,e){if(void 0!==n.one&&1===e)return n.one;var t=e%10,r=e%100;return 1===t&&11!==r?n.singularNominative.replace("{{count}}",String(e)):t>=2&&t<=4&&(r<10||r>20)?n.singularGenitive.replace("{{count}}",String(e)):n.pluralGenitive.replace("{{count}}",String(e))}function nn(n){return function(e,t){return null!=t&&t.addSuffix?t.comparison&&t.comparison>0?n.future?K(n.future,e):"через "+K(n.regular,e):n.past?K(n.past,e):K(n.regular,e)+" назад":K(n.regular,e)}}var en={lessThanXSeconds:nn({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:nn({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(n,e){return null!=e&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:nn({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:nn({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:nn({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:nn({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:nn({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:nn({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:nn({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:nn({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:nn({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:nn({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:nn({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:nn({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:nn({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};const tn={date:q({formats:{full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},defaultWidth:"full"}),time:q({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:q({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})};function rn(n,e){var t,r,a,i,o,u,s,l;D(1,arguments);var c=G(),d=function(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}(null!==(t=null!==(r=null!==(a=null!==(i=null==e?void 0:e.weekStartsOn)&&void 0!==i?i:null==e||null===(o=e.locale)||void 0===o||null===(u=o.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==a?a:c.weekStartsOn)&&void 0!==r?r:null===(s=c.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==t?t:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=A(n),p=f.getUTCDay(),m=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function an(n,e,t){D(2,arguments);var r=rn(n,t),a=rn(e,t);return r.getTime()===a.getTime()}var on=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function un(n){var e=on[n];return 2===n?"'во "+e+" в' p":"'в "+e+" в' p"}var sn={lastWeek:function(n,e,t){var r=n.getUTCDay();return an(n,e,t)?un(r):function(n){var e=on[n];switch(n){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:function(n,e,t){var r=n.getUTCDay();return an(n,e,t)?un(r):function(n){var e=on[n];switch(n){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}(r)},other:"P"};var ln={ordinalNumber:function(n,e){var t=Number(n),r=null==e?void 0:e.unit;return t+("date"===r?"-е":"week"===r||"minute"===r||"second"===r?"-я":"-й")},era:H({values:{narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},defaultWidth:"wide"}),quarter:H({values:{narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:H({values:{narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},defaultWidth:"wide",formattingValues:{narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},defaultFormattingWidth:"wide"}),day:H({values:{narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},defaultWidth:"wide"}),dayPeriod:H({values:{narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},defaultWidth:"any",formattingValues:{narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},defaultFormattingWidth:"wide"})};const cn={code:"ru",formatDistance:function(n,e,t){return en[n](e,t)},formatLong:tn,formatRelative:function(n,e,t,r){var a=sn[n];return"function"==typeof a?a(e,t,r):a},localize:ln,match:{ordinalNumber:F({matchPattern:/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,parsePattern:/\d+/i,valueCallback:function(n){return parseInt(n,10)}}),era:X({matchPatterns:{narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^д/i,/^н/i]},defaultParseWidth:"any"}),quarter:X({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:X({matchPatterns:{narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},defaultParseWidth:"any"}),day:X({matchPatterns:{narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},defaultParseWidth:"any"}),dayPeriod:X({matchPatterns:{narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function dn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function fn(n){var e=n.appEl,t=n.posts,r=n.token,a=t.map((function(n){var e=Q(new Date(n.createdAt),{locale:cn});console.log(n.user.name);var t=n.likes.length;return'<li class="post">\n  <div class="post-header" data-user-id="'.concat(n.user.id,'">\n      <img class="post-header__user-image" src="').concat(n.user.imageUrl,'">\n      <p class="post-header__user-name">').concat(n.user.name,'</p>\n  </div>\n  <div class="post-image-container">\n    <img class="post-image" src="').concat(n.imageUrl,'">\n  </div>\n  <div class="post-likes">\n    <button data-post-id="').concat(n.id,'" class="like-button">\n      <img src="').concat(n.isLiked?"./assets/images/like-active.svg":"./assets/images/like-not-active.svg",'">\n    </button>\n    <p class="post-likes-text">\n      Нравится: <strong>').concat(0===t?0:"".concat(n.likes.at(-1).name).concat(t>1?"и еще ".concat(t-1):""),'</strong>\n    </p>\n  </div>\n  <p class="post-text">\n    <span class="user-name">').concat(n.user.name,"</span>\n    ").concat(n.description,'\n  </p>\n  <p class="post-date">\n    ').concat(e,"\n  </p>\n</li>")})).join(""),i='\n  <div class="page-container">\n    <div class="header-container"></div>\n    <ul id="ulContainerForPost" class="posts">'.concat(a,"\n    </ul>\n  </div>");e.innerHTML=i,E({element:document.querySelector(".header-container")});var o,u=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return dn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dn(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){u=!0,i=n},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw i}}}}(document.querySelectorAll(".post-header"));try{var s=function(){var n=o.value;n.addEventListener("click",(function(){wn(x,{userId:n.dataset.userId})}))};for(u.s();!(o=u.n()).done;)s()}catch(n){u.e(n)}finally{u.f()}document.querySelectorAll(".like-button").forEach((function(n,a){n.addEventListener("click",(function(n){var i=t[a];console.log(i);var o=i.id;console.log(o);var u=i.isLiked;console.log(u),u?y({token:r,id:o}).then((function(n){console.log(n.post.likes),t[a].likes=n.post.likes,t[a].isLiked=n.post.isLiked,fn({appEl:e,posts:t,token:r})})):b({token:r,id:o}).then((function(n){console.log(n.post.likes),t[a].likes=n.post.likes,t[a].isLiked=n.post.isLiked,fn({appEl:e,posts:t,token:r})}))}))}))}function pn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function mn(n){var e=n.appEl,t=n.posts,r=n.token,a=t[0].user,i=t.map((function(n){var e=Q(new Date(n.createdAt),{locale:cn});console.log(n.user.name);var t=n.likes.length;return'<li class="post">\n  \n  <div class="post-image-container">\n    <img class="post-image" src="'.concat(n.imageUrl,'">\n  </div>\n  <div class="post-likes">\n    <button data-post-id="').concat(n.id,'" class="like-button">\n      <img src="').concat(n.isLiked?"./assets/images/like-active.svg":"./assets/images/like-not-active.svg",'">\n    </button>\n    <p class="post-likes-text">\n      Нравится: <strong>').concat(0===t?0:"".concat(n.likes.at(-1).name).concat(t>1?"и еще ".concat(t-1):""),'</strong>\n    </p>\n  </div>\n  <p class="post-text">\n    <span class="user-name">').concat(n.user.name,"</span>\n    ").concat(n.description,'\n  </p>\n  <p class="post-date">\n    ').concat(e,"\n  </p>\n</li>")})).join(""),o='\n  <div class="page-container">\n    <div class="header-container"></div>\n    <div class="posts-user-header">\n        <img src="'.concat(a.imageUrl,'" class="posts-user-header__user-image">\n            <p class="posts-user-header__user-name">').concat(a.name,'</p>\n    </div>\n    <ul id="ulContainerForPost" class="posts">').concat(i,"\n    </ul>\n  </div>");e.innerHTML=o,E({element:document.querySelector(".header-container")});var u,s=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return pn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pn(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){u=!0,i=n},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw i}}}}(document.querySelectorAll(".post-header"));try{var l=function(){var n=u.value;n.addEventListener("click",(function(){wn(x,{userId:n.dataset.userId})}))};for(s.s();!(u=s.n()).done;)l()}catch(n){s.e(n)}finally{s.f()}document.querySelectorAll(".like-button").forEach((function(n,a){n.addEventListener("click",(function(n){var i=t[a];console.log(i);var o=i.id;console.log(o);var u=i.isLiked;console.log(u),u?y({token:r,id:o}).then((function(n){console.log(n.post.likes),t[a].likes=n.post.likes,t[a].isLiked=n.post.isLiked,mn({appEl:e,posts:t,token:r})})):b({token:r,id:o}).then((function(n){console.log(n.post.likes),t[a].likes=n.post.likes,t[a].isLiked=n.post.isLiked,mn({appEl:e,posts:t,token:r})}))}))}))}var gn=function(n){try{return JSON.parse(window.localStorage.getItem("user"))}catch(n){return null}}(),hn=null,vn=[],bn=function(){return gn?"Bearer ".concat(gn.token):void 0},yn=function(){gn=null,window.localStorage.removeItem("user"),wn(w)},wn=function n(e,t){if([w,k,M,x,S].includes(e))return e===M?(hn=gn?M:k,xn()):e===w?(hn=S,xn(),(r={token:bn()},a=r.token,fetch(v,{method:"GET",headers:{Authorization:a}}).then((function(n){if(401===n.status)throw new Error("Нет авторизации");return n.json()})).then((function(n){return n.posts}))).then((function(n){hn=w,vn=n,xn()})).catch((function(e){console.error(e),n(w)}))):e===x?(hn=S,xn(),setTimeout((function(){return vn=vn.filter((function(n){if(n.user.id===t.userId)return n})),hn=x,xn()}),Math.floor(5e3*Math.random()))):(hn=e,void xn());var r,a;throw new Error("страницы не существует")},xn=function(){var n=document.getElementById("app");return hn===S?function(n){var e=n.user,t=n.goToPage;n.appEl.innerHTML='\n              <div class="page-container">\n                <div class="header-container"></div>\n                <div class="loading-page">\n                  <div class="loader"><div></div><div></div><div></div></div>\n                </div>\n              </div>',E({user:e,element:document.querySelector(".header-container"),goToPage:t})}({appEl:n,user:gn,goToPage:wn}):hn===k?function(n){var e=n.appEl,t=n.setUser,r=!0,a="";!function n(){var i='\n      <div class="page-container">\n          <div class="header-container"></div>\n          <div class="form">\n              <h3 class="form-title">\n                '.concat(r?"Вход в&nbsp;Instapro":"Регистрация в&nbsp;Instapro",'\n                </h3>\n              <div class="form-inputs">\n    \n                  ').concat(r?"":'\n                      <div class="upload-image-container"></div>\n                      <input type="text" id="name-input" class="input" placeholder="Имя" />\n                      ','\n                  \n                  <input type="text" id="login-input" class="input" placeholder="Логин" />\n                  <input type="password" id="password-input" class="input" placeholder="Пароль" />\n                  \n                  <div class="form-error"></div>\n                  \n                  <button class="button" id="login-button">').concat(r?"Войти":"Зарегистрироваться",'</button>\n              </div>\n            \n              <div class="form-footer">\n                <p class="form-footer-title">\n                  ').concat(r?"Нет аккаунта?":"Уже есть аккаунт?",'\n                  <button class="link-button" id="toggle-button">\n                    ').concat(r?"Зарегистрироваться.":"Войти.","\n                  </button>\n                </p> \n               \n              </div>\n          </div>\n      </div>    \n");e.innerHTML=i;var o=function(n){e.querySelector(".form-error").textContent=n};E({element:document.querySelector(".header-container")}),e.querySelector(".upload-image-container")&&P({element:e.querySelector(".upload-image-container"),onImageUrlChange:function(n){a=n}}),document.getElementById("login-button").addEventListener("click",(function(){if(o(""),r){var n=T(document.getElementById("login-input").value),e=T(document.getElementById("password-input").value);if(!n)return void alert("Введите логин");if(!e)return void alert("Введите пароль");(function(n){var e=n.login,t=n.password;return fetch(h+"/api/user/login",{method:"POST",body:JSON.stringify({login:e,password:t})}).then((function(n){if(400===n.status)throw new Error("Неверный логин или пароль");return n.json()}))})({login:n,password:e}).then((function(n){t(n.user)})).catch((function(n){console.warn(n),o(n.message)}))}else{var i=T(document.getElementById("login-input").value),u=T(document.getElementById("name-input").value),s=T(document.getElementById("password-input").value);if(!u)return void alert("Введите имя");if(!i)return void alert("Введите логин");if(!s)return void alert("Введите пароль");if(!a)return void alert("Не выбрана фотография");(function(n){var e=n.login,t=n.password,r=n.name,a=n.imageUrl;return fetch(h+"/api/user",{method:"POST",body:JSON.stringify({login:e,password:t,name:r,imageUrl:a})}).then((function(n){if(400===n.status)throw new Error("Такой пользователь уже существует");return n.json()}))})({login:i,password:s,name:u,imageUrl:a}).then((function(n){t(n.user)})).catch((function(n){console.warn(n),o(n.message)}))}})),document.getElementById("toggle-button").addEventListener("click",(function(){r=!r,n()}))}()}({appEl:n,setUser:function(n){(function(n){window.localStorage.setItem("user",JSON.stringify(n))})(gn=n),wn(w)},user:gn,goToPage:wn}):hn===M?function(n){var e=n.appEl,t=n.onAddPostClick,r="";e.innerHTML='\n    <div class="page-container">\n    <div class="header-container">\n<div class="page-header">\n    <h1 class="logo">instapro</h1>\n    <button class="header-button add-or-login-button">\n    <div title="Добавить пост" class="add-post-sign"></div>\n    </button>\n    <button title="Админ" class="header-button logout-button">Выйти</button>  \n    \n</div>\n\n</div>\n    <div class="form">\n      <h3 class="form-title">Добавить пост</h3>\n      <div class="form-inputs">\n        <div class="upload-image-container">\n<div class="upload-image">\n\n</div>\n</div>\n        <label>\n          Опишите фотографию:\n          <textarea class="input textarea" id="inputId" rows="4"></textarea>\n          </label>\n          <button class="button" id="add-button">Добавить</button>\n      </div>\n    </div>\n  </div>\n  ',document.querySelector("#inputId"),document.getElementById("add-button").addEventListener("click",(function(){t({description:inputId.value,imageUrl:r})})),E({element:document.querySelector(".header-container")}),e.querySelector(".upload-image")&&P({element:e.querySelector(".upload-image-container"),onImageUrlChange:function(n){r=n}})}({appEl:n,onAddPostClick:function(n){var e=n.description,t=n.imageUrl;console.log("Добавляю пост...",{description:e,imageUrl:t}),function(n){var e=n.description,t=n.imageUrl;fetch(v,{method:"POST",headers:{Authorization:n.token},body:JSON.stringify({description:e,imageUrl:t})}).then((function(n){if(401===n.status)throw new Error("Нет авторизации");return n.json()})).then((function(n){return n.posts}))}({token:bn(),description:e,imageUrl:t}),wn(w)}}):hn===w?fn({appEl:n,posts:vn,token:bn()}):hn===x?mn({appEl:n,posts:vn,token:bn()}):void 0};wn(w)})()})();